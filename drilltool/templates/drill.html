
{% extends 'index.html'  %}

{% block content %}

    <section id="anchor-name" class="row bg-black">
        <div class="container">
            <div class="tittle wow fadeInUp">
                <h2 style="color:white">DRILLER'S DASHBOARD</h2>
                <h4 style="color:white">Perform your mud rheology analysis here</h4>
                <br>
            </div>
            <form action="add" method="POST">
                {% csrf_token %}
                <div class="row">
	                <div class="col-md-4">
	                    <div class="card" style="background:#484848">
	                        <div class="form-group form-floating-label">
	                            <input id="inputFloatingLabel2" type="text" name="num1" class="form-control input-solid" required>
	                            <label for="inputFloatingLabel2" class="placeholder">Viscometer reading @600rpm :</label>
	                        </div>    
	                        <div class="form-group form-floating-label">
	                            <input id="inputFloatingLabel2" type="text" name="num2" class="form-control input-solid" required>
	                            <label for="inputFloatingLabel2" class="placeholder">Viscometer reading @300rpm :</label>
	                        </div>                           
	                    </div>
	                </div>
	                <div class="col-md-4">
	                    <div class="card" style="background:#484848">
	                        <div class="form-group form-floating-label">
	                            <input id="inputFloatingLabel2" type="text" name="num3" class="form-control input-solid" required>
	                            <label for="inputFloatingLabel2" class="placeholder">Viscometer reading @200rpm :</label>
	                        </div>    
	                        <div class="form-group form-floating-label">
	                            <input id="inputFloatingLabel2" type="text" name="num4" class="form-control input-solid" required>
	                            <label for="inputFloatingLabel2" class="placeholder">Viscometer reading @100rpm :</label>
	                        </div>                           
	                    </div>
	                </div>  
	                <div class="col-md-4">
	                    <div class="card" style="background:#484848">
	                        <div class="form-group form-floating-label">
	                            <input id="inputFloatingLabel2" type="text" name="num5" class="form-control input-solid" required>
	                            <label for="inputFloatingLabel2" class="placeholder">Viscometer reading @6rpm :</label>
	                        </div>    
	                        <div class="form-group form-floating-label">
	                            <input id="inputFloatingLabel2" type="text" name="num6" class="form-control input-solid" required>
	                            <label for="inputFloatingLabel2" class="placeholder">Viscometer reading @3rpm :</label>
	                        </div>                          
	                    </div>     
	                </div>               	                      
                </div> 
                <div class="row">
	                <div class="col-md-4">
	                    <div class="card" style="background:#484848">
	                        <div class="form-group form-floating-label">
	                            <input id="inputFloatingLabel2" type="text" name="num5" class="form-control input-solid" required>
	                            <label for="inputFloatingLabel2" class="placeholder">Downhole Temperature [F] :</label>
	                        </div>    
	                        <div class="form-group form-floating-label">
	                            <input id="inputFloatingLabel2" type="text" name="num6" class="form-control input-solid" required>
	                            <label for="inputFloatingLabel2" class="placeholder">Downhole Presure [psi] :</label>
	                        </div>                          
	                    </div>     
	                </div>   
	                <div class="col-md-4">
	                    <div class="card" style="background:#484848">
	                        <div class="form-group form-floating-label">
	                            <input id="inputFloatingLabel2" type="text" name="num5" class="form-control input-solid" required>
	                            <label for="inputFloatingLabel2" class="placeholder">Oil Based Mud</label>
	                        </div>    
	                        <div class="form-group form-floating-label">
	                            <input id="inputFloatingLabel2" type="text" name="num6" class="form-control input-solid" required>
	                            <label for="inputFloatingLabel2" class="placeholder">Water Based Mud</label>
	                        </div>                          
	                    </div>     
	                </div> 	                              	
                	<div class="col-md-4">
                 		<input type="submit" name="">               		
                	</div>
                	<div class="col-md-4">
				        <div style="color: white">
				        	Result : {{ result }}
				        	Model : {{ model }}
				        </div>                     		
                	</div>
		            <div class="col-md-6">
		                <div class="card  bg-black">
		                    <div class="card-header">
		                        <div class="card-title" style="color: white">Rheology Visualization:</div>
		                    </div>
		                    <div class="card-body">
		                        <div class="chart-container">
		                            <canvas id="multipleLineChart" height="400"></canvas>
		                        </div>
		                    </div>
		                </div>
		            </div>                	
                </div>       
            </form>            
        </div>             
    </section>
{% endblock %}

{% block javascripts %}
	<script>
		var multipleLineChart = document.getElementById('multipleLineChart').getContext('2d');
		var myMultipleLineChart = new Chart(multipleLineChart, {
			type: 'line',
			data: {
				labels: [{% for shear_rate in SR %}"{{ shear_rate }}",{% endfor %}],
				datasets: [{
					label: "Shear stress",
					borderColor: "#1d7af3",
					pointBorderColor: "#FFF",
					pointBackgroundColor: "#1d7af3",
					pointBorderWidth: 2,
					pointHoverRadius: 4,
					pointHoverBorderWidth: 1,
					pointRadius: 4,
					backgroundColor: 'transparent',
					fill: true,
					borderWidth: 2,
					data: [{% for shear_stess in S %}{{ shear_stess }},{% endfor %}]
				},{
					label: "Bingham",
					borderColor: "#59d05d",
					pointBorderColor: "#FFF",
					pointBackgroundColor: "#59d05d",
					pointBorderWidth: 2,
					pointHoverRadius: 4,
					pointHoverBorderWidth: 1,
					pointRadius: 4,
					backgroundColor: 'transparent',
					fill: true,
					borderWidth: 2,
					data: [{% for bingham in BP %}{{ bingham }},{% endfor %}]
				}, {
					label: "Power",
					borderColor: "#f3545d",
					pointBorderColor: "#FFF",
					pointBackgroundColor: "#f3545d",
					pointBorderWidth: 2,
					pointHoverRadius: 4,
					pointHoverBorderWidth: 1,
					pointRadius: 4,
					backgroundColor: 'transparent',
					fill: true,
					borderWidth: 2,
					data: [{% for power in PL %}{{ power }},{% endfor %}]
				}, {
					label: "Herchel",
					borderColor: "#cccc33",
					pointBorderColor: "#FFF",
					pointBackgroundColor: "#cccc33",
					pointBorderWidth: 2,
					pointHoverRadius: 4,
					pointHoverBorderWidth: 1,
					pointRadius: 4,
					backgroundColor: 'transparent',
					fill: true,
					borderWidth: 2,
					data: [{% for herchel in YP %}{{ herchel }},{% endfor %}]
				}
				]
			},
			options : {
				responsive: true, 
				maintainAspectRatio: false,
				legend: {
					position: 'top',
				},
				tooltips: {
					bodySpacing: 4,
					mode:"nearest",
					intersect: 0,
					position:"nearest",
					xPadding:10,
					yPadding:10,
					caretPadding:10
				},
				layout:{
					padding:{left:15,right:15,top:15,bottom:15}
				}
			}
		});
	</script>
{% endblock javascripts %}		